pipeline{
    agent any


stages {


        stage('git check-out') {
            steps {
                  checkout changelog: false, poll: false, scm: [$class: 'GitSCM', branches: [[name: '*/hansn-feature']], extensions: [], userRemoteConfigs: [[credentialsId: 'ibt', url: 'https://github.com/IBT-learning/ibt-maven.git']]]

            }
        }
        stage('Validate') {
            steps {
                 sh 'mvn validate'

            }
        }

        stage('compile') {
                    steps {
                        sh 'mvn compile'

                    }
                }

                stage('continue'){
                input{
                message "should we proceed"
                ok "Yes, proceed"
                }
                steps{
                echo 'deploy pipeline'
                }
                }

          stage('adding SonarQube scanner') {
                environment{
                     scannerHome = tool 'ibt-sonarqube';
                }
                    steps{
                    withSonarQubeEnv(credentialsId: 'SQ-student', installationName: 'IBT sonarqube') {
                      sh "$scannerHome/bin/sonar-scanner"
                    }
                   }
                  }

        stage('package') {
                     steps {
                        sh 'mvn package'

                     }
                  }

        stage('3rd- stage') {
                    steps {


                    echo 'done'
                    }
                }
    }
}