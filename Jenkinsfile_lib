@Library('jenkins-library')_
pipeline{
 agent any
  tools { maven 'maven_3.9.3' }
  stages{
       stage('Git checkout'){
         steps{
         checkout changelog: false, poll: false, scm: scmGit(branches: [[name: '*/feature/yannick']], extensions: [], userRemoteConfigs: [[credentialsId: 'yannick-jenkins', url: 'https://github.com/IBT-learning/ibt-maven.git']])
         }
       }
       stage('Validate') {
          steps{
          sh 'mvn validate'
          }
       }
       stage('Compile') {
                 steps{
                 sh 'mvn compile'
            }
         }
       stage('sonarqube scan'){
           steps {
           sonarScan()
           }
       }
       stage('Dependency check') {
           steps{
           DependencyCheck()
           }
       }
       }
   }