pipeline {
    agent any

    parameters {
        string(name:'Branch_Name', defaultvalue: 'main',description: 'enter branch name to build')
    }

    stages {
        stage('Hello') {
            steps {
                echo 'Hello World'
            }
        }
        stage('hi') {
            steps {
                echo 'hi'
            }
        }
        stage('git checkout') {
           steps{
             checkout changelog: false, poll: false, scm: scmGit(branches: [[name: '$Branch_Name']], extensions: [], userRemoteConfigs: [[credentialsId: 'jenkins-pw-credential', url: 'https://github.com/IBT-learning/ibt-maven.git']])
           }
        }
        stage('list files'){
        when{
             expression{
                 env.BRANCH_NAME == 'main'
             }
        }
         steps{
             sh 'ls'
         }
        }
         stage('invoke python'){
                  steps{
                       sh 'pwd'
                  }
                 }
    }
}